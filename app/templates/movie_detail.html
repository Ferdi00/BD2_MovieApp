<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ movie.title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
</head>
<body>
     <header>
      <div class="left">
        <a href="/" class="home-icon"><i class="fas fa-home"></i></a>
        <button class="filter-toggle">Filters</button>
      </div>


      {% if user %} 
      <div class="right">
        <a href="/personal_area" class="login-button">Personal area</a>
      <a href="/logout" class="login-button">Logout</a>
      </div>
      
      {% else %}
      <a href="/login" class="login-button">Login/Register</a>
      {% endif %}
    </header>
    <main>
        <div class="movie-detail">
            <img src="{{ movie.poster }}" alt="Poster of {{ movie.title }}">
            <div class="movie-info">
                <h2>{{ movie.title }} (<span class="movie-year">{{ movie.year }}</span>)</h2>
                <p><strong>Genre:</strong> {{ movie.genre }}</p>
                <p><strong>Certificate:</strong> {{ movie.certificate }}</p>
                <p><strong>Duration:</strong> {{ movie.duration }} min</p>
                <p><strong>Director:</strong> {{ movie.director }}</p>
                <p><strong>Cast:</strong> {{ movie.cast }}</p>
                <p><strong>Rating:</strong> <span class="rating">{{ movie.rating }}</span></p>
                <p><strong>Metascore:</strong> {{ movie.metascore }}</p>
                <p><strong>Votes:</strong> {{ movie.votes }}</p>
                <p><strong>Description:</strong> {{ movie.description }}</p>
                <p><strong>Review:</strong> {{ movie.review_title }}</p>
                <p>{{ movie.review }}</p>
               <div class="user-actions">
                        {% if favorites %}
                            <button id="favorite-button" class="action-button">Remove from Favorites</button>
                        {% else %}
                            <button id="favorite-button" class="action-button">Add to Favorites</button>
                        {% endif %}
                        
                        {% if watchlist %}
                            <div class="seen-section">
                                <button id="seen-button" class="action-button">Remove from Watchlist</button>
                                <label for="seen-date" class="hidden">Data:</label>
                                <input type="date" id="seen-date" name="seen-date" value="2000-01-01" class="hidden">
                            </div>
                        {% else %}
                            <div class="seen-section">
                                <button id="seen-button" class="action-button">Add to Watchlist</button>
                                <label for="seen-date">Data:</label>
                                <input type="date" id="seen-date" name="seen-date">
                            </div>
                        {% endif %}
                        
                        <div class="user-score">
                            {% if score %}
                                <div class="user-score">
                                    <button id="score-button" class="action-button">Modify Score</button>
                                    <input type="number" placeholder={{score}}  id="user-score" name="user-score" min="0" max="10" step="0.1">
                                    </div>
                            {% else %}
                                <div class="user-score">
                                    <button id="score-button" class="action-button">Add Score</button>
                                    <input type="number" id="user-score" name="user-score" min="0" max="10" step="0.1">
                                    </div>
                            {% endif %}
                            
                </div>
            </div>  
        </div>
    </main>
</body>
</html>
